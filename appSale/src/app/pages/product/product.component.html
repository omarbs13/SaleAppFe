<div class="card text-center">
    <div class="card-header">
        <h2 class="card-title">Productos</h2>
    </div>
    <div class="card-body">
        <div style=" text-align: right;">
            <div class="btn-group" role="group" aria-label="Basic outlined example">
                <button type="button" class="btn btn-outline-primary" (click)="open(0)">Nuevo</button>
                <button type="button" class="btn btn-outline-primary" (click)="exportExcel()"><em
                        class="mdi mdi-file-download-outline icon"></em>Descargar</button>
            </div>
        </div>
        <p-table #dt [value]="products" styleClass="p-datatable-striped" responsiveLayout="scroll" [paginator]="true"
            [rows]="20" [showCurrentPageReport]="true" currentPageReportTemplate="{totalRecords} productos"
            [rowsPerPageOptions]="[10,25,50]" [exportHeader]="'customExportHeader'">

            <ng-template pTemplate="header">
                <tr>
                    <th>Código</th>
                    <th>Producto</th>
                    <th>Tipo</th>
                    <th>Descripción</th>
                    <th>Precio venta</th>
                    <th>Precio compra</th>
                    <th>Precio paquete</th>
                    <th>Stock</th>
                    <th>Proveedor</th>
                    <th class="tblActions"></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
                <tr>
                    <td>{{item.code}}</td>
                    <td>{{item.productName}}</td>
                    <td>{{item.productTypeName}}</td>
                    <td>{{item.description}}</td>
                    <td>{{item.salePrice | currency}}</td>
                    <td>{{item.purchasePrice| currency}}</td>
                    <td>{{item.packagePrice| currency}}</td>
                    <td>{{item.inventory?item.inventory?.currentStock:0}}</td>
                    <td>{{item.providerName}}</td>
                    <td>
                        <div class="btn-toolbar mb-3" role="toolbar" aria-label="Toolbar with button groups">
                            <div class="btn-group me-2" role="group" aria-label="First group">
                                <button type="button" class="btnInventory" title="inventarios"
                                    (click)="inventory(item.productId,item.productName,item.inventory)"><em
                                        class="mdi mdi-clipboard-arrow-up-outline icon"></em></button>&nbsp;&nbsp;
                                <button type="button" class="btnEdit" title="editar"
                                    (click)="open(item.productId)"><em class="mdi mdi-lead-pencil"></em></button>&nbsp;&nbsp;
                                <button type="button" class="btnDelete" title="borrar"
                                    (click)="delete(item.productId)"><em class="mdi mdi-trash-can icon"></em></button>
                            </div>
                        </div>
                    </td>
                </tr>
            </ng-template>
        </p-table>


    </div>
    <div class="card-footer text-muted">

    </div>
</div>